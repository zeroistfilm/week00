<!DOCTYPE html>

<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
          crossorigin="anonymous">
    <link rel="stylesheet" href="../static/css/main.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
            crossorigin="anonymous">
    </script>
    <script>
        function logout() {
            window.location.href = 'http://54.180.91.148:5000/logout';
        }


        function developHistoryPut(id){
            console.log(id)
            let weekid = id.slice(3,5);
            console.log(weekid)

            if ($('#develophistory').is(':empty')) {
              let temphtml=`<div class="mb-3">
                              <label for="exampleFormControlInput1" class="form-label">Email address</label>
                              <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
                            </div>
                            <div class="mb-3">
                              <label for="exampleFormControlTextarea1" class="form-label">Example textarea</label>
                              <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                          </div>`
            $("#week"+weekid).append(temphtml);
            }


            // if ($("#develophistory").css("display") == "flex") {
            //     // post-box를 가리고
            //     $("#develophistory").hide();
            //     $("#showDevelopHistorybutton").text("show");
            // } else {
            //     // 아니면(눈에 보이지 않으면) post-box를 펴라
            //     $("#develophistory").show();
            //     $("#showDevelopHistorybutton").text("hide");
            //
            // }
        }

        function showDevelopHistory() {


            if ($('#develophistory').is(':empty')) {

                let temphtml = ``
                let tempid=0
                for(let i=1; i<19;i++){
                    temphtml+=`<a id="week${i}" href="#" class="list-group-item list-group-item-action" onclick="showday(id)">week${i}</a>
                                <ul style="width:100%"   id="weekday${i}"class="list-group list-group-horizontal">
                                          <li id="thu${i}" class="list-group-item list-group-item-action" onclick="developHistoryPut(id)">목</li>
                                          <li id="fri${i}" class="list-group-item list-group-item-action" onclick="developHistoryPut(id)">금</li>
                                          <li id="sat${i}" class="list-group-item list-group-item-action" onclick="developHistoryPut(id)">토</li>
                                          <li id="sun${i}" class="list-group-item list-group-item-action" onclick="developHistoryPut(id)">일</li>
                                          <li id="mon${i}" class="list-group-item list-group-item-action" onclick="developHistoryPut(id)">월</li>
                                          <li id="thu${i}" class="list-group-item list-group-item-action" onclick="developHistoryPut(id)">화</li>
                                          <li id="wed${i}" class="list-group-item list-group-item-action" onclick="developHistoryPut(id)">수</li>
                                </ul>
                                <ur id="workhistory${i}"></ur>`
                }
                $("#develophistory").append(temphtml);

            }


            if ($("#develophistory").css("display") == "flex") {
                // post-box를 가리고
                $("#develophistory").hide();
                $("#showDevelopHistorybutton").text("show");
            } else {
                // 아니면(눈에 보이지 않으면) post-box를 펴라
                $("#develophistory").show();
                $("#showDevelopHistorybutton").text("hide");

            }

        }

        function showday(id) {
            id = id.split('k');
            if ($("#weekday" + id[1]).css("display") == "flex") {
                // post-box를 가리고
                $("#weekday" + id[1]).hide();
            } else {
                // 아니면(눈에 보이지 않으면) post-box를 펴라
                $("#weekday" + id[1]).show();

            }
        }

        function modifyQA(qa_uid, question, answer, userkey_q, userkey_a, type) {
            // let card_html=`
            // <div class="card" style="width: 34rem;" data-index-number=${qa_uid}>
            //     <div class="card-body">
            //         <p>
            //         <b><h5 class="card-text">${question}</h5></b>
            //         <h6 class="card-subtitle mb-2 text-muted" >질문자 : ${userkey_q}</h6>
            //         <button type="button" class="btn btn-primary btn-sm" button_number= q${qa_uid} onclick="modifyQA(${qa_uid}, ${question}, ${answer}, ${userkey_q}, ${userkey_a},'q')">수정</button>
            //         <button type="button" class="btn btn-primary btn-sm">답글</button>
            //         </p>
            //         if (${answer}){
            //         <p class="card-text">${answer}}
            //         <h6 class="card-subtitle mb-2 text-muted">답변자 : ${userkey_a}</h6>
            //         <button type="button" class="btn btn-primary btn-sm" button_number=" a${qa_uid}}" onclick="modifyQA(${qa_uid}, ${question}, ${answer}, ${userkey_q}, ${userkey_a}, 'a')">답글</button>
            //         </p>
            //         }
            //     </div>
            // </div>`
            // $('#'${qa_uid}).html(temp_html);
        }

    </script>
</head>
<body>
<div class="wrapper">
    <div class="header">
        <div class="header-logo">SW사관학교 정글</div>
        <div class="header-nav-bar">
            <div class="login_status">교육생 조정훈</div>
            <div class="logout" style="cursor: pointer" onclick="logout()">로그아웃</div>
        </div>
    </div>
    <div class="contents">
        <div class="q_and_a">
            <div class="content_name">
                <div>Q&A</div>
            </div>
            <div class="content_contents">

                {% for qna in qnas %}
                <div class="card" style="width: 34rem;" data-index-number={{qna['qa_uid']}}>
                    <div class="card-body">
                        <p>
                            <b><h5 class="card-text">{{qna['question']}}</h5></b>
                        <h6 class="card-subtitle mb-2 text-muted">질문자 : {{qna['userkey_q']}}</h6>
                        <button type="button" class="btn btn-primary btn-sm" button_number=q{{qna['qa_uid']}}
                                onclick="modifyQA('{{qna.qa_uid}}','{{qna.question}}','{{qna.answer}}','{{qna.userkey_q}}','{{qna.userkey_a}}', 'q')">
                            수정
                        </button>
                        <button type="button" class="btn btn-primary btn-sm">답글</button>
                        </p>
                        {% if qna['answer'] %}
                        <p class="card-text">{{qna['answer']}}
                        <h6 class="card-subtitle mb-2 text-muted">답변자 : {{qna['userkey_a']}}</h6>
                        <button type="button" class="btn btn-primary btn-sm" button_number=a{{qna['qa_uid']}}
                                onclick="modifyQA('{{qna.qa_uid}}','{{qna.question}}','{{qna.answer}}','{{qna.userkey_q}}','{{qna.userkey_a}}', 'a')">
                            답글
                        </button>
                        </p>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        <div class="info">
            <div class="content_name">
                <div>INFOMATION</div>
            </div>
            <div class="content_contents">
                <div class="info_items">
                    <div class="item_title">제목입니다.</div>
                    <div class="writer_and_time">
                        <div class="writer">교육생 조정훈</div>
                        <div class="write_time">2020.12.08 14:23</div>
                    </div>
                    <div class="item_contents">내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다</div>
                    <div class="item_fav">
                        <div class="good_icon"></div>
                        <div class="bad_icon"></div>
                        <div class="view_counter">조회수 10</div>
                    </div>
                </div>
                <div class="info_items">
                    <div class="item_title">제목입니다.</div>
                    <div class="writer_and_time">
                        <div class="writer">교육생 조정훈</div>
                        <div class="write_time">2020.12.08 14:23</div>
                    </div>
                    <div class="item_contents">내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다</div>
                    <div class="item_fav">
                        <div class="good_icon"></div>
                        <div class="bad_icon"></div>
                        <div class="view_counter">조회수 10</div>
                    </div>
                </div>
                <div class="info_items">
                    <div class="item_title">제목입니다.</div>
                    <div class="writer_and_time">
                        <div class="writer">교육생 조정훈</div>
                        <div class="write_time">2020.12.08 14:23</div>
                    </div>
                    <div class="item_contents">내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다</div>
                    <div class="item_fav">
                        <div class="good_icon"></div>
                        <div class="bad_icon"></div>
                        <div class="view_counter">조회수 10</div>
                    </div>
                </div>
                <div class="info_items">
                    <div class="item_title">제목입니다.</div>
                    <div class="writer_and_time">
                        <div class="writer">교육생 조정훈</div>
                        <div class="write_time">2020.12.08 14:23</div>
                    </div>
                    <div class="item_contents">내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다</div>
                    <div class="item_fav">
                        <div class="good_icon"></div>
                        <div class="bad_icon"></div>
                        <div class="view_counter">조회수 10</div>
                    </div>
                </div>
                <div class="info_items">
                    <div class="item_title">제목입니다.</div>
                    <div class="writer_and_time">
                        <div class="writer">교육생 조정훈</div>
                        <div class="write_time">2020.12.08 14:23</div>
                    </div>
                    <div class="item_contents">내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다</div>
                    <div class="item_fav">
                        <div class="good_icon"></div>
                        <div class="bad_icon"></div>
                        <div class="view_counter">조회수 10</div>
                    </div>
                </div>
                <div class="info_items">
                    <div class="item_title">제목입니다.</div>
                    <div class="writer_and_time">
                        <div class="writer">교육생 조정훈</div>
                        <div class="write_time">2020.12.08 14:23</div>
                    </div>
                    <div class="item_contents">내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다</div>
                    <div class="item_fav">
                        <div class="good_icon"></div>
                        <div class="bad_icon"></div>
                        <div class="view_counter">조회수 10</div>
                    </div>
                </div>
                <div class="info_items">
                    <div class="item_title">제목입니다.</div>
                    <div class="writer_and_time">
                        <div class="writer">교육생 조정훈</div>
                        <div class="write_time">2020.12.08 14:23</div>
                    </div>
                    <div class="item_contents">내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다내용입니다</div>
                    <div class="item_fav">
                        <div class="good_icon"></div>
                        <div class="bad_icon"></div>
                        <div class="view_counter">조회수 10</div>
                    </div>
                </div>

            </div>
        </div>
        <div class="undefined">
            <div class="content_name">
                <div>Develop History</div>
                <button id="showDevelopHistorybutton" type="button" class="btn btn-light"
                        onclick="showDevelopHistory()">show
                </button>
            </div>
            <div class="content_contents">
                <div id="develophistory" class="list-group"></div>
            </div>
        </div>
    </div>
    <div class="footer"></div>
</div>

</div>
</body>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Junggle Book</title>
</head>
<body>

</body>

</html>